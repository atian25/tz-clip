# RFC 004: Pin 图 (贴图) 功能

## 1. 需求描述 (Requirements)

### 1.1 核心功能
1. 将选定的截图区域“钉”在屏幕最顶层，作为临时参考。
2. 支持多个 Pin 图同时存在。
3. Pin 图应干扰最小化，但需保持可见。

### 1.2 交互细节
1. **入口**: 截图工具栏上的 "Pin" 按钮。
2. **操作**:
   1) **移动**: 拖拽 Pin 图任意位置即可移动。
   2) **缩放**: 鼠标滚轮 / 双指捏合调整大小。
   3) **关闭**:
      - 左上角悬浮关闭按钮。
      - 快捷键 (如 Esc，需讨论是否冲突)。
      - 双击 (需讨论：是关闭还是缩放？)。
   4) **透明度**: 支持调整透明度（例如滚轮 + 修饰键，或右键菜单）。

## 2. 技术实现 (Technical Implementation)

### 2.1 窗口结构
*   每个 Pin 图是一个独立的 `NSWindow`。
*   `styleMask`: `.borderless` (无标题栏)。
*   `level`: `.floating` (保证在普通窗口之上，全屏应用之上)。
*   `collectionBehavior`: `.canJoinAllSpaces` (在所有桌面空间可见)。

### 2.2 图像渲染
*   `NSImageView` 或 `SwiftUI Image` 显示截图内容。
*   支持圆角与阴影，增加视觉区分度。

### 2.3 状态管理
*   需要一个 `PinWindowManager` 单例来管理所有活动的 Pin 图窗口实例。
*   记录每个 Pin 图的原始 Frame、缩放比例。

## 3. 待办事项
1. [ ] 确定具体的交互手势（缩放、透明度）。
2. [ ] 决定是否支持 Pin 图的“最小化”或“暂时隐藏”。
